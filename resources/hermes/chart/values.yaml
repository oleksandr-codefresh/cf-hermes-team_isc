gitops-runtime:
  global:
    codefresh:
      accountId: 669622463f08406c4055afcb
      userToken:
        secretKeyRef:
          name: codefresh-user-token
          key: token
    runtime:
      ingress:
        className: nginx-public
        enabled: true
        hosts:
          - hermes-team-prod-1.rnd.sandbox.codefresh.io
        protocol: https
      name: hermes
      isConfigurationRuntime: true
  installer:
    skipValidation: true
  argo-cd:
    extraObjects:
      - apiVersion: networking.k8s.io/v1
        kind: Ingress
        metadata:
          annotations:
            nginx.ingress.kubernetes.io/backend-protocol: HTTP
          name: argocd-server
        spec:
          ingressClassName: nginx-public
          rules:
            - host: hermes-team-prod-1.rnd.sandbox.codefresh.io
              http:
                paths:
                  - backend:
                      service:
                        name: argo-cd-server
                        port:
                          number: 80
                    path: /argocd
                    pathType: Prefix
    configs:
      params:
        server.basehref: /argocd # /argocd path
        server.rootpath: /argocd # /argocd path
    controller:
      # image:
      #   repository: docker.io/pashacodefresh/argocd
      #   tag: latest
      replicas: 1
    server:
      # image:
      #   repository: docker.io/pashacodefresh/argocd
      #   tag: latest
      replicas: 1
  app-proxy:
    replicaCount: 1
    config:
      cors: https://g.codefresh.io
      argoCdUrl: http://argo-cd-server:80/argocd
    # image:
    #   tag: 1.2651.0-CR-22513-previous-logs-f9d05aa
  gitops-operator:
  # image:
  #   repository: quay.io/codefresh/codefresh-gitops-operator
  #   tag: cr-24411-vuln-fixes
    env:
      ARGO_CD_URL: argo-cd-server:80/argocd # /argocd path
